<!DOCTYPE html>
<html lang="es">

<!-- =============================================== -->
<!-- 1. CONFIGURACI√ìN DEL DOCUMENTO Y METADATOS -->
<!-- =============================================== -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENDA Puente Alto - Sistema de Gesti√≥n</title>
    
    <!-- ========== CSS Y FUENTES ========== -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- ========== FIREBASE SCRIPTS ========== -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
     
<!-- ========== JSPDF PARA EXPORTACI√ìN PDF  ========== -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" integrity="sha512-qZvrmS2ekKPF2mSznTQsxqPgnpkI4DNhh/MLGRH7ejB8i8HDZ5Fz7Z7r+OqbD2+9uN9g7Z1E9mDj5lNaqKMVqA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- Script de verificaci√≥n y configuraci√≥n de jsPDF -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
    console.log('üîç Verificando carga de jsPDF...');
    
    function verificarJsPDF() {
    const tiposDisponibles = {
    'window.jsPDF': typeof window.jsPDF,
    'window.jsPDF.jsPDF': typeof window.jsPDF?.jsPDF,
    'globalThis.jsPDF': typeof globalThis.jsPDF
     };
        
    console.log('üìä Estado de jsPDF:', tiposDisponibles);
        
    if (typeof window.jsPDF !== 'undefined') {
    console.log('‚úÖ jsPDF cargado correctamente');
            
            // Asegurar compatibilidad
    if (!window.jsPDF.jsPDF && typeof window.jsPDF === 'function') {
    window.jsPDF.jsPDF = window.jsPDF;
    console.log('üîß Alias jsPDF.jsPDF creado para compatibilidad');
            }
            
            // Prueba r√°pida
     try {
    const testDoc = new (window.jsPDF.jsPDF || window.jsPDF)();
    testDoc.text('Test', 20, 20);
    console.log('‚úÖ jsPDF funcionando correctamente');
                
          // Notificar al sistema que est√° listo
     window.jsPDFReady = true;
     window.dispatchEvent(new CustomEvent('jsPDFReady'));
                
     } catch (error) {
    console.error('‚ùå Error en prueba de jsPDF:', error);
     }
     } else {
     console.error('‚ùå jsPDF no se pudo cargar');
            
            // Intentar carga alternativa
     console.log('üîÑ Intentando carga alternativa...');
     cargarJsPDFAlternativo();
        }
    }
    
    function cargarJsPDFAlternativo() {
        const script = document.createElement('script');
        script.src = 'https://unpkg.com/jspdf@2.5.1/dist/jspdf.umd.min.js';
        script.onload = function() {
            console.log('‚úÖ jsPDF cargado desde fuente alternativa');
            setTimeout(verificarJsPDF, 100);
        };
        script.onerror = function() {
            console.error('‚ùå Error cargando jsPDF desde fuente alternativa');
            mostrarErrorPDF();
        };
        document.head.appendChild(script);
    }
    
    function mostrarErrorPDF() {
        window.showNotification && window.showNotification(
            'Error cargando librer√≠a PDF. Algunas funciones de exportaci√≥n no estar√°n disponibles.',
            'error',
            5000
        );
    }
    
    // Verificar inmediatamente
    verificarJsPDF();
    
    // Verificar nuevamente despu√©s de un momento por si hay retraso
    setTimeout(verificarJsPDF, 1000);
    setTimeout(verificarJsPDF, 3000);
});

// Funci√≥n global para verificar estado de jsPDF
window.verificarEstadoPDF = function() {
    const estado = {
        disponible: typeof window.jsPDF !== 'undefined',
        version: window.jsPDF?.version || 'desconocida',
        metodos: {
            constructor: typeof window.jsPDF,
            jsPDF: typeof window.jsPDF?.jsPDF,
            save: typeof window.jsPDF?.prototype?.save
        }
    };
    
    console.log('üìä Estado actual de jsPDF:', estado);
    return estado;
};
</script>

<!-- Script adicional para asegurar que las funciones PDF esperen a que jsPDF est√© listo -->
<script>
// Wrapper para funciones PDF que esperan a que jsPDF est√© disponible
window.conJsPDFListo = function(callback) {
    if (window.jsPDFReady || typeof window.jsPDF !== 'undefined') {
        callback();
    } else {
        // Esperar al evento de carga
        window.addEventListener('jsPDFReady', callback, { once: true });
        
        // Timeout por si no se carga
        setTimeout(() => {
            if (typeof window.jsPDF !== 'undefined') {
                callback();
            } else {
                console.error('‚ùå Timeout esperando jsPDF');
                window.showNotification && window.showNotification(
                    'Error: Librer√≠a PDF no disponible', 
                    'error'
                );
            }
        }, 5000);
    }
};
</script>

    <!-- ========== CONFIGURACI√ìN BASE ========== -->
    <script src="configuracion/constantes.js"></script>
    <script src="configuracion/firebase.js"></script>

    <!-- ========== UTILIDADES ========== -->
    <script src="utilidades/cache.js"></script>
    <script src="utilidades/formato.js"></script>
    <script src="utilidades/notificaciones.js"></script>
    <script src="utilidades/modales.js"></script>
    <script src="utilidades/permisos.js"></script>

    <!-- ========== FORMULARIOS Y VALIDACIONES ========== -->
    <script src="formularios/validaciones.js"></script>
    <script src="formularios/autoguardado.js"></script>
    <script src="formularios/paciente.js"></script>
    <script src="formularios/reingreso.js"></script>

    <!-- ========== AUTENTICACI√ìN ========== -->
    <script src="autenticacion/sesion.js"></script>
    <script src="autenticacion/login.js"></script>
    <script src="autenticacion/registro.js"></script>

    <!-- ========== NAVEGACI√ìN ========== -->
    <script src="navegacion/tabs.js"></script>
    <script src="navegacion/eventos.js"></script>

    <!-- ========== CALENDARIO ========== -->
    <script src="calendario/horarios.js"></script>
    <script src="calendario/citas.js"></script>
    <script src="calendario/citas-profesionales.js"></script>
    <script src="calendario/agenda.js"></script>

    <!-- ========== SOLICITUDES ========== -->
    <script src="solicitudes/respuestas.js"></script>
    <script src="solicitudes/gestor.js"></script>

    <!-- ========== PACIENTES ========== -->
    <script src="pacientes/busqueda.js"></script>
    <script src="pacientes/gestor.js"></script>
    <script src="pacientes/fichas.js"></script>

    <!-- ========== SEGUIMIENTO ========== -->
    <script src="seguimiento/timeline.js"></script>
    <script src="seguimiento/atenciones.js"></script>
    <script src="seguimiento/citas-proximas.js"></script>

    <!-- ========== SISTEMA PRINCIPAL ========== -->
    <script src="main.js"></script>
</head>

<body>

<!-- =============================================== -->
<!-- 2. ENCABEZADO P√öBLICO -->
<!-- =============================================== -->
<header class="header">
    <div class="header-content">
        <div class="logo">
            <i class="fas fa-heartbeat"></i>
            <span>SENDA Puente Alto</span>
        </div>
        <div class="header-actions">
            <button class="btn btn-professional" id="login-professional">
                <i class="fas fa-user-md"></i>
                Acceso Profesionales
            </button>
        </div>
    </div>
</header>

<!-- =============================================== -->
<!-- 3. ENCABEZADO PROFESIONAL (OCULTO POR DEFECTO) -->
<!-- =============================================== -->
<div class="professional-header" id="professional-header" style="display: none;">
    <div class="header-content">
        <div class="professional-info">
            <div class="professional-avatar">PA</div>
            <div class="professional-details">
                <h3 id="professional-name">Profesional SENDA</h3>
                <p id="professional-profession">Cargando...</p>
                <small id="professional-cesfam">CESFAM</small>
            </div>
        </div>
        <div class="professional-actions">
            <button class="btn btn-danger btn-sm" id="logout-professional">
                <i class="fas fa-sign-out-alt"></i>
                Cerrar Sesi√≥n
            </button>
        </div>
    </div>
</div>

<!-- =============================================== -->
<!-- 4. CONTENIDO PRINCIPAL -->
<!-- =============================================== -->
<main class="main-content">

    <!-- ========== CONTENIDO P√öBLICO ========== -->
    <div id="public-content">
        <!-- Tarjeta principal con informaci√≥n del programa -->
        <div class="hero-card">
            <h1>Programa SENDA</h1>
            <p class="subtitle">Servicio Nacional para la Prevenci√≥n y Rehabilitaci√≥n</p>
            <p class="description">
                Ofrecemos tratamiento y apoyo integral para la prevenci√≥n y recuperaci√≥n 
                del consumo problem√°tico de drogas y alcohol. Tu bienestar es nuestra prioridad.
            </p>
            
            <!-- Estad√≠sticas del programa -->
            <div class="stats-grid">
                <div class="stat-item">
                    <span class="stat-number">1,200+</span>
                    <span class="stat-label">Personas atendidas</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">8</span>
                    <span class="stat-label">CESFAM activos</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">24/7</span>
                    <span class="stat-label">L√≠nea de ayuda</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">85%</span>
                    <span class="stat-label">Tasa de √©xito</span>
                </div>
            </div>
            
            <!-- Botones de acci√≥n principales -->
            <div class="btn-group">
                <button class="btn btn-primary" id="register-patient">
                    <i class="fas fa-user-plus"></i>
                    Solicitar Ayuda
                </button>
                <button class="btn btn-secondary" id="reentry-program">
                    <i class="fas fa-redo"></i>
                    Reingreso al Programa
                </button>
                <button class="btn btn-outline" id="about-program">
                    <i class="fas fa-info-circle"></i>
                    Sobre el Programa
                </button>
            </div>
            
            <!-- Caracter√≠sticas del programa -->
            <div class="features">
                <span><i class="fas fa-shield-alt"></i> Confidencial</span>
                <span><i class="fas fa-heart"></i> Apoyo integral</span>
                <span><i class="fas fa-clock"></i> Horarios flexibles</span>
                <span><i class="fas fa-users"></i> Equipo especializado</span>
            </div>
        </div>

        <!-- Informaci√≥n de emergencia -->
        <div class="emergency-info">
            <div class="emergency-title">
                <i class="fas fa-phone-alt"></i>
                En caso de emergencia
            </div>
            <div class="emergency-numbers">
                <span><strong>SENDA:</strong> 1412</span>
                <span><strong>SAPU:</strong> 131</span>
                <span><strong>Emergencias:</strong> 132</span>
            </div>
        </div>
    </div>

    <!-- ========== CONTENIDO PROFESIONAL (OCULTO POR DEFECTO) ========== -->
    <div id="professional-content" style="display: none;">
        
        <!-- Navegaci√≥n por pesta√±as -->
        <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="agenda">
                <i class="fas fa-calendar-alt"></i>
                Agenda
            </button>
            <button class="tab-btn" data-tab="solicitudes">
                <i class="fas fa-inbox"></i>
                Solicitudes
            </button>
            <button class="tab-btn" data-tab="pacientes">
                <i class="fas fa-users"></i>
                Pacientes
            </button>
            <button class="tab-btn" data-tab="seguimiento">
                <i class="fas fa-chart-line"></i>
                Seguimiento
            </button>
        </nav>

        <!-- ==================== PESTA√ëA: SOLICITUDES ==================== -->
        <div class="tab-pane" id="solicitudes-tab">
            <div class="section-header">
                <h2>Solicitudes de Ingreso</h2>
                <div class="section-actions">
                    <button id="refresh-solicitudes" class="btn btn-secondary">
                        <i class="fas fa-sync"></i> Actualizar
                    </button>
                </div>
            </div>
            
            <!-- Filtros para solicitudes -->
            <div class="filters-container">
                <div class="filter-group">
                    <label>Estado:</label>
                    <select id="filtro-estado-solicitudes">
                        <option value="todos">Todos los estados</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Prioridad:</label>
                    <select id="filtro-prioridad-solicitudes">
                        <option value="todos">Todas las prioridades</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>CESFAM:</label>
                    <select id="filtro-cesfam-solicitudes">
                        <option value="todos">Todos los CESFAM</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Fecha:</label>
                    <select id="filtro-fecha-solicitudes">
                        <option value="todos">Todas las fechas</option>
                        <option value="hoy">Hoy</option>
                        <option value="semana">Esta semana</option>
                        <option value="mes">Este mes</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>Buscar:</label>
                    <input type="text" id="buscar-solicitudes" placeholder="Nombre, RUT, email...">
                </div>
            </div>
            
            <!-- Estad√≠sticas de solicitudes -->
            <div id="solicitudes-stats" class="stats-container"></div>
            
            <!-- Contador de resultados -->
            <div class="counter-info">
                Mostrando <span id="solicitudes-counter">0</span> de <span id="solicitudes-total-counter">0</span> solicitudes
            </div>
            
            <!-- Tabla de solicitudes -->
            <div id="solicitudes-table-container">
                <table class="solicitudes-table">
                    <thead>
                        <tr>
                            <th>Paciente</th>
                            <th>Contacto</th>
                            <th>CESFAM</th>
                            <th>Estado</th>
                            <th>Prioridad</th>
                            <th>Fecha</th>
                            <th>Sustancias</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="solicitudes-table-body"></tbody>
                </table>
            </div>
        </div>

        <!-- ==================== PESTA√ëA: AGENDA ==================== -->
        <div class="tab-pane active" id="agenda-tab">
            <div class="section-header">
                <h2>Gesti√≥n de Agenda</h2>
            </div>
            
            <!-- Calendario -->
            <div class="calendar-container">
                <div class="calendar-header">
                    <h3 id="calendar-month-year">Cargando...</h3>
                    <div>
                        <button class="btn btn-outline btn-sm" id="prev-month">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="btn btn-outline btn-sm" id="next-month">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        <button class="btn btn-success btn-sm" id="nueva-cita-btn">
                            <i class="fas fa-plus"></i> Nueva Cita
                        </button>
                    </div>
                </div>
                <div class="calendar-grid" id="calendar-grid"></div>
            </div>
            
            <!-- Lista de citas del d√≠a -->
            <div class="daily-appointments">
                <h3>Citas del D√≠a</h3>
                <div class="appointments-list" id="appointments-list">
                    <div class="loading-message">
                        <i class="fas fa-spinner fa-spin"></i> Cargando citas...
                    </div>
                </div>
            </div>
        </div>

        <!-- ==================== PESTA√ëA: PACIENTES ==================== -->
        <div class="tab-pane" id="pacientes-tab">
            <div class="section-header">
                <h2>Pacientes</h2>
                <div class="section-actions">
                    <div class="search-box">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-pacientes-rut" placeholder="Buscar por RUT...">
                    </div>
                    <button class="btn btn-primary btn-sm" id="buscar-paciente-btn">
                        <i class="fas fa-search"></i>
                        Buscar
                    </button>
                </div>
            </div>
            
            <!-- Grid de pacientes -->
            <div class="patients-grid" id="patients-grid">
                <!-- Aqu√≠ se renderizan los pacientes -->
            </div>
            
            <!-- Resultados de b√∫squeda -->
            <div id="pacientes-search-results"></div>
        </div>

        <!-- ==================== PESTA√ëA: SEGUIMIENTO ==================== -->
        <div class="tab-pane" id="seguimiento-tab">
            <div class="section-header">
                <h2>Seguimiento y Control</h2>
            </div>
            
            <!-- Pacientes de hoy -->
            <div class="daily-appointments">
                <h3>Pacientes de Hoy</h3>
                <div class="patients-timeline" id="patients-timeline"></div>
            </div>
            
            <!-- Pr√≥ximas citas -->
            <div class="daily-appointments" style="margin-top: 2rem;">
                <h3>Pr√≥ximas Citas</h3>
                <div class="appointments-grid" id="upcoming-appointments-grid"></div>
                <div id="no-upcoming-section" style="display: none;">
                    <div class="no-results">
                        <i class="fas fa-calendar-check"></i>
                        <p>No hay citas pr√≥ximas programadas</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- =============================================== -->
<!-- 5. MODALES DEL SISTEMA -->
<!-- =============================================== -->

<!-- ========== MODAL: LOGIN Y REGISTRO ========== -->
<div class="modal-overlay" id="login-modal" style="display:none;">
    <div class="modal">
        <button class="modal-close" onclick="closeModal('login-modal')">
            <i class="fas fa-times"></i>
        </button>
        <h2>Acceso Profesionales</h2>
        <p class="modal-description">Ingresa con tu cuenta autorizada para acceder al sistema.</p>
        
        <!-- Pesta√±as del modal -->
        <div class="modal-tabs">
            <button class="modal-tab active" onclick="switchLoginTab('login')">Iniciar Sesi√≥n</button>
            <button class="modal-tab" onclick="switchLoginTab('register')">Registrarse</button>
        </div>
        
        <!-- Formulario de login -->
        <form class="auth-form active" id="login-form">
            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" class="form-input" id="login-email" required>
            </div>
            <div class="form-group">
                <label class="form-label">Contrase√±a</label>
                <input type="password" class="form-input" id="login-password" required>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-primary btn-full">
                    <i class="fas fa-sign-in-alt"></i> Iniciar Sesi√≥n
                </button>
            </div>
        </form>
        
        <!-- Formulario de registro -->
        <form class="auth-form" id="register-form">
            <div class="form-row">
                <div class="form-group">
                    <label class="form-label">Nombre</label>
                    <input type="text" class="form-input" id="register-nombre" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Apellidos</label>
                    <input type="text" class="form-input" id="register-apellidos" required>
                </div>
            </div>
            <div class="form-group">
                <label class="form-label">Email</label>
                <input type="email" class="form-input" id="register-email" 
                       pattern=".*@senda\.cl$" title="Solo se permiten emails @senda.cl" 
                       placeholder="usuario@senda.cl" required>
            </div>
            <div class="form-group">
                <label class="form-label">Contrase√±a</label>
                <input type="password" class="form-input" id="register-password" required>
            </div>
            <div class="form-group">
                <label class="form-label">Profesi√≥n</label>
                <select class="form-select" id="register-profession" required>
                    <option value="">Seleccionar profesi√≥n...</option>
                    <option value="asistente_social">Asistente Social</option>
                    <option value="medico">M√©dico</option>
                    <option value="psicologo">Psic√≥logo</option>
                    <option value="terapeuta">Terapeuta Ocupacional</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">CESFAM</label>
                <select class="form-select" id="register-cesfam" required>
                    <option value="">Seleccionar CESFAM...</option>
                    <option value="CESFAM Alejandro del R√≠o">CESFAM Alejandro del R√≠o</option>
                    <option value="CESFAM Karol Wojtyla">CESFAM Karol Wojtyla</option>
                    <option value="CESFAM Laurita Vicu√±a">CESFAM Laurita Vicu√±a</option>
                    <option value="CESFAM Padre Manuel Villaseca">CESFAM Padre Manuel Villaseca</option>
                    <option value="CESFAM San Ger√≥nimo">CESFAM San Ger√≥nimo</option>
                    <option value="CESFAM Vista Hermosa">CESFAM Vista Hermosa</option>
                    <option value="CESFAM Bernardo Leighton">CESFAM Bernardo Leighton</option>
                    <option value="CESFAM Cardenal Ra√∫l Silva Henr√≠quez">CESFAM Cardenal Ra√∫l Silva Henr√≠quez</option>
                </select>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-success btn-full">
                    <i class="fas fa-user-plus"></i> Registrarse
                </button>
            </div>
        </form>
    </div>
</div>

<!-- ========== MODAL: SOLICITUD DE PACIENTE ========== -->
<div class="modal-overlay" id="patient-modal" style="display:none;">
    <div class="modal large-modal">
        <button class="modal-close" onclick="closeModal('patient-modal')">
            <i class="fas fa-times"></i>
        </button>
        <h2>Solicitud de Ayuda</h2>
        
        <!-- Barra de progreso -->
        <div class="form-progress">
            <div class="progress-bar">
                <div class="progress-fill" id="form-progress"></div>
            </div>
            <span class="progress-text" id="progress-text">Paso 1 de 4</span>
        </div>
        
        <form id="patient-form">
            <!-- PASO 1: Tipo de solicitud -->
            <div class="form-step active" data-step="1">
                <h3>Tipo de Solicitud</h3>
                <p class="step-description">Selecciona el tipo de solicitud que mejor se adapte a tu situaci√≥n.</p>
                
                <div class="radio-group">
                    <label class="radio-option">
                        <input type="radio" name="tipoSolicitud" value="identificado" required>
                        <span class="radio-custom"></span>
                        <div>
                            <strong>Solicitud con mis datos</strong>
                            <p>Proporcionar informaci√≥n personal para un proceso m√°s personalizado</p>
                        </div>
                    </label>
                    <label class="radio-option">
                        <input type="radio" name="tipoSolicitud" value="informacion" required>
                        <span class="radio-custom"></span>
                        <div>
                            <strong>Solo informaci√≥n</strong>
                            <p>Recibir informaci√≥n general sobre los programas disponibles</p>
                        </div>
                    </label>
                </div>
                
                <!-- Container para email de informaci√≥n -->
                <div id="info-email-container" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Email para enviar informaci√≥n *</label>
                        <input type="email" class="form-input" id="info-email" placeholder="tu@email.com">
                    </div>
                    <div style="text-align:right;">
                        <button type="button" class="btn btn-success" id="enviar-solo-info">
                            <i class="fas fa-paper-plane"></i> Enviar Solicitud
                        </button>
                    </div>
                </div>
                
                <!-- Informaci√≥n b√°sica -->
                <div id="basic-info-container">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Edad *</label>
                            <input type="number" class="form-input" id="patient-age" min="12" max="120" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">CESFAM *</label>
                            <select class="form-select" id="patient-cesfam" required>
                                <option value="">Seleccionar CESFAM...</option>
                                <option value="CESFAM Alejandro del R√≠o">CESFAM Alejandro del R√≠o</option>
                                <option value="CESFAM Karol Wojtyla">CESFAM Karol Wojtyla</option>
                                <option value="CESFAM Laurita Vicu√±a">CESFAM Laurita Vicu√±a</option>
                                <option value="CESFAM Padre Manuel Villaseca">CESFAM Padre Manuel Villaseca</option>
                                <option value="CESFAM San Ger√≥nimo">CESFAM San Ger√≥nimo</option>
                                <option value="CESFAM Vista Hermosa">CESFAM Vista Hermosa</option>
                                <option value="CESFAM Bernardo Leighton">CESFAM Bernardo Leighton</option>
                                <option value="CESFAM Cardenal Ra√∫l Silva Henr√≠quez">CESFAM Cardenal Ra√∫l Silva Henr√≠quez</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">¬øPara qui√©n solicitas ayuda? *</label>
                        <div class="radio-group">
                            <label class="radio-option">
                                <input type="radio" name="paraMi" value="si" required>
                                <span class="radio-custom"></span>
                                Para m√≠ mismo/a
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="paraMi" value="no" required>
                                <span class="radio-custom"></span>
                                Para otra persona
                            </label>
                        </div>
                    </div>
                </div>
                
                <!-- Navegaci√≥n del paso -->
                <div class="form-navigation">
                    <div></div>
                    <div>
                        <button type="button" class="btn btn-success" id="submit-step-1" style="display: none;">
                            <i class="fas fa-paper-plane"></i>Enviar Solicitud
                        </button>
                        <button type="button" class="btn btn-primary" id="next-step-1">
                            <i class="fas fa-arrow-right"></i>Siguiente
                        </button>
                    </div>
                </div>
            </div>

            <!-- PASO 2: Datos personales -->
            <div class="form-step" data-step="2">
                <h3>Datos Personales</h3>
                <p class="step-description">Completa tus datos personales para un mejor seguimiento.</p>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Nombre *</label>
                        <input type="text" class="form-input" id="patient-name" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Apellidos *</label>
                        <input type="text" class="form-input" id="patient-lastname" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">RUT *</label>
                        <input type="text" class="form-input" id="patient-rut" placeholder="12.345.678-9" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tel√©fono *</label>
                        <input type="tel" class="form-input" id="patient-phone" placeholder="9 1234 5678" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" id="patient-email" placeholder="tu@email.com">
                </div>
                
                <div class="form-group">
                    <label class="form-label">Direcci√≥n</label>
                    <input type="text" class="form-input" id="patient-address" placeholder="Calle, n√∫mero, comuna">
                </div>
                
                <div class="form-navigation">
                    <button type="button" class="btn btn-outline" id="prev-step-2">
                        <i class="fas fa-arrow-left"></i>Anterior
                    </button>
                    <button type="button" class="btn btn-primary" id="next-step-2">
                        <i class="fas fa-arrow-right"></i>Siguiente
                    </button>
                </div>
            </div>

            <!-- PASO 3: Evaluaci√≥n -->
            <div class="form-step" data-step="3">
                <h3>Evaluaci√≥n</h3>
                <p class="step-description">Esta informaci√≥n nos ayudar√° a brindarte la mejor atenci√≥n.</p>
                
                <div class="form-group">
                    <label class="form-label">Sustancias problem√°ticas *</label>
                    <div class="checkbox-group">
                        <label class="checkbox-option">
                            <input type="checkbox" name="sustancias" value="alcohol">
                            <span class="checkbox-custom"></span>
                            Alcohol
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="sustancias" value="marihuana">
                            <span class="checkbox-custom"></span>
                            Marihuana
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="sustancias" value="cocaina">
                            <span class="checkbox-custom"></span>
                            Coca√≠na
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="sustancias" value="pasta_base">
                            <span class="checkbox-custom"></span>
                            Pasta Base
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="sustancias" value="medicamentos">
                            <span class="checkbox-custom"></span>
                            Medicamentos
                        </label>
                        <label class="checkbox-option">
                            <input type="checkbox" name="sustancias" value="otros">
                            <span class="checkbox-custom"></span>
                            Otros
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Tiempo de consumo</label>
                    <select class="form-select" id="tiempo-consumo">
                        <option value="">Seleccionar...</option>
                        <option value="menos_6_meses">Menos de 6 meses</option>
                        <option value="6_meses_1_a√±o">6 meses a 1 a√±o</option>
                        <option value="1_3_a√±os">1 a 3 a√±os</option>
                        <option value="3_5_a√±os">3 a 5 a√±os</option>
                        <option value="mas_5_a√±os">M√°s de 5 a√±os</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Nivel de urgencia *</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="urgencia" value="baja" required>
                            <span class="radio-custom"></span>
                            <div>
                                <strong>Baja</strong>
                                <p>Puedo esperar algunas semanas</p>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="urgencia" value="media" required>
                            <span class="radio-custom"></span>
                            <div>
                                <strong>Media</strong>
                                <p>Necesito atenci√≥n en los pr√≥ximos d√≠as</p>
                            </div>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="urgencia" value="alta" required>
                            <span class="radio-custom"></span>
                            <div>
                                <strong>Alta</strong>
                                <p>Es urgente, necesito ayuda inmediata</p>
                            </div>
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">¬øHas recibido tratamiento previo? *</label>
                    <div class="radio-group">
                        <label class="radio-option">
                            <input type="radio" name="tratamientoPrevio" value="si" required>
                            <span class="radio-custom"></span>
                            S√≠
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="tratamientoPrevio" value="no" required>
                            <span class="radio-custom"></span>
                            No
                        </label>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button type="button" class="btn btn-outline" id="prev-step-3">
                        <i class="fas fa-arrow-left"></i>Anterior
                    </button>
                    <button type="button" class="btn btn-primary" id="next-step-3">
                        <i class="fas fa-arrow-right"></i>Siguiente
                    </button>
                </div>
            </div>

            <!-- PASO 4: Finalizaci√≥n -->
            <div class="form-step" data-step="4">
                <h3>Finalizaci√≥n</h3>
                <p class="step-description">Completa tu solicitud con informaci√≥n adicional.</p>
                
                <div class="form-group">
                    <label class="form-label">Descripci√≥n de tu situaci√≥n</label>
                    <textarea class="form-textarea" id="patient-description" rows="4" 
                              placeholder="Describe brevemente tu situaci√≥n o cualquier informaci√≥n adicional que consideres importante..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Nivel de motivaci√≥n para el cambio</label>
                    <input type="range" class="form-range" id="motivacion-range" min="1" max="10" value="5">
                    <div class="range-labels">
                        <span>Muy baja</span>
                        <span id="motivacion-value">5</span>
                        <span>Muy alta</span>
                    </div>
                </div>
                
                <div class="form-navigation">
                    <button type="button" class="btn btn-outline" id="prev-step-4">
                        <i class="fas fa-arrow-left"></i>Anterior
                    </button>
                    <button type="submit" class="btn btn-success" id="submit-form">
                        <i class="fas fa-paper-plane"></i>Enviar Solicitud
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>

<!-- ========== MODAL: REINGRESO AL PROGRAMA ========== -->
<div class="modal-overlay" id="reentry-modal" style="display:none;">
    <div class="modal">
        <button class="modal-close" onclick="closeModal('reentry-modal')">
            <i class="fas fa-times"></i>
        </button>
        <h2>Reingreso al Programa</h2>
        <p class="modal-description">Si ya fuiste parte del programa SENDA, completa este formulario para solicitar tu reingreso.</p>
        
        <form id="reentry-form">
            <div class="form-group">
                <label class="form-label">Nombre completo *</label>
                <input type="text" class="form-input" id="reentry-name" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">RUT *</label>
                <input type="text" class="form-input" id="reentry-rut" placeholder="12.345.678-9" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">Tel√©fono *</label>
                <input type="tel" class="form-input" id="reentry-phone" placeholder="9 1234 5678" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">CESFAM *</label>
                <select class="form-select" id="reentry-cesfam" required>
                    <option value="">Seleccionar CESFAM...</option>
                    <option value="CESFAM Alejandro del R√≠o">CESFAM Alejandro del R√≠o</option>
                    <option value="CESFAM Karol Wojtyla">CESFAM Karol Wojtyla</option>
                    <option value="CESFAM Laurita Vicu√±a">CESFAM Laurita Vicu√±a</option>
                    <option value="CESFAM Padre Manuel Villaseca">CESFAM Padre Manuel Villaseca</option>
                    <option value="CESFAM San Ger√≥nimo">CESFAM San Ger√≥nimo</option>
                    <option value="CESFAM Vista Hermosa">CESFAM Vista Hermosa</option>
                    <option value="CESFAM Bernardo Leighton">CESFAM Bernardo Leighton</option>
                    <option value="CESFAM Cardenal Ra√∫l Silva Henr√≠quez">CESFAM Cardenal Ra√∫l Silva Henr√≠quez</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Motivo del reingreso *</label>
                <textarea class="form-textarea" id="reentry-reason" rows="4" required></textarea>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn btn-outline" onclick="closeModal('reentry-modal')">
                    <i class="fas fa-times"></i>Cancelar
                </button>
                <button type="submit" class="btn btn-success">
                    <i class="fas fa-redo"></i>Solicitar Reingreso
                </button>
            </div>
        </form>
    </div>
</div>

<!-- ========== MODAL: SOBRE EL PROGRAMA ========== -->
<div class="modal-overlay" id="about-modal" style="display:none;">
    <div class="modal large-modal">
        <button class="modal-close" onclick="closeModal('about-modal')">
            <i class="fas fa-times"></i>
        </button>
        <h2>Sobre el Programa</h2>
        <div class="modal-description">
            <p>
                El <strong>Programa SENDA Puente Alto</strong> es un esfuerzo conjunto con los 8 CESFAM de la comuna,
                enfocado en la prevenci√≥n y tratamiento del consumo problem√°tico de alcohol y otras drogas.<br><br>
                
                <strong>¬øQu√© hacemos?</strong>
                <ul>
                    <li>Atenci√≥n y derivaci√≥n de personas que requieran apoyo en consumo de sustancias.</li>
                    <li>Orientaci√≥n familiar y psicoeducaci√≥n.</li>
                    <li>Gesti√≥n de casos y acompa√±amiento continuo.</li>
                    <li>Trabajo conjunto con equipos de salud y comunidad.</li>
                </ul>
                
                <strong>¬øA qui√©nes atendemos?</strong>
                <ul>
                    <li>Ni√±os, ni√±as y adolescentes</li>
                    <li>Personas adultas</li>
                    <li>Familias y cuidadores</li>
                </ul>
                
                <strong>Confidencialidad y calidad:</strong> Todo el proceso es confidencial, voluntario y realizado por profesionales capacitados.<br><br>
                
                <strong>M√°s info:</strong> <a href="https://www.senda.gob.cl" target="_blank">www.senda.gob.cl</a>
            </p>
        </div>
    </div>
</div>

<!-- ========== MODAL: EDITAR SOLICITUD ========== -->
<div class="modal-overlay" id="modal-editar" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="closeModal('modal-editar')">&times;</span>
        <h2>Editar solicitud</h2>
        <form class="modal-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="modal-editar-nombre">Nombre:</label>
                    <input type="text" id="modal-editar-nombre" name="nombre">
                </div>
                <div class="form-group">
                    <label for="modal-editar-rut">RUT:</label>
                    <input type="text" id="modal-editar-rut" name="rut">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="modal-editar-telefono">Tel√©fono:</label>
                    <input type="text" id="modal-editar-telefono" name="telefono">
                </div>
            </div>
            <div class="form-actions">
                <button type="button" onclick="guardarEdicionSolicitud()" class="btn btn-primary">
                    Guardar cambios
                </button>
            </div>
            <input type="hidden" id="modal-editar-id" name="id">
        </form>
    </div>
</div>

<!-- ========== MODAL: RESPONDER SOLICITUD ========== -->
<div class="modal-overlay" id="modal-responder" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="closeModal('modal-responder')">&times;</span>
        <h2>Responder solicitud de informaci√≥n</h2>
        <form class="modal-form">
            <div class="form-group">
                <label><b>Nombre:</b></label>
                <span id="modal-responder-nombre"></span>
            </div>
            <div class="form-group">
                <label for="modal-responder-asunto">Asunto:</label>
                <input type="text" id="modal-responder-asunto" value="Respuesta a su solicitud de informaci√≥n">
            </div>
            <div class="form-group">
                <label for="modal-responder-mensaje">Mensaje:</label>
                <textarea id="modal-responder-mensaje" rows="5"></textarea>
            </div>
            <div class="form-actions">
                <button type="button" onclick="enviarCorreoSenda()" class="btn btn-primary">
                    Enviar correo
                </button>
            </div>
            <input type="hidden" id="modal-responder-email">
            <input type="hidden" id="modal-responder-id">
        </form>
    </div>
</div>

<!-- ========== MODAL: DETALLES DEL PACIENTE ========== -->
<div class="modal-overlay" id="modal-detalle" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="cerrarModalDetalle()">&times;</span>
        <h2>Detalles del paciente</h2>
        <div class="modal-details">
            <p><b>Nombre:</b> <span id="modal-detalle-nombre"></span></p>
            <p><b>RUT:</b> <span id="modal-detalle-rut"></span></p>
            <p><b>Tel√©fono:</b> <span id="modal-detalle-telefono"></span></p>
            <p><b>Email:</b> <span id="modal-detalle-email"></span></p>
            <p><b>Motivo de atenci√≥n:</b> <span id="modal-detalle-motivo"></span></p>
            <p><b>CESFAM:</b> <span id="modal-detalle-cesfam"></span></p>
            <p><b>Prioridad:</b> <span id="modal-detalle-prioridad"></span></p>
            <p><b>Estado:</b> <span id="modal-detalle-estado"></span></p>
            <p><b>Fecha:</b> <span id="modal-detalle-fecha"></span></p>
            <p><b>Sustancias:</b> <span id="modal-detalle-sustancias"></span></p>
        </div>
    </div>
</div>

<!-- ========== MODAL: FICHA DEL PACIENTE ========== -->
<div class="modal-overlay" id="modal-ficha-paciente" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="cerrarModalFichaPaciente()">&times;</span>
        <h2>Ficha del paciente</h2>
        <div id="modal-ficha-paciente-body"></div>
    </div>
</div>

<!-- ========== MODAL: REGISTRAR ATENCI√ìN ========== -->
<div class="modal-overlay" id="modal-registrar-atencion" style="display:none;">
    <div class="modal-content">
        <span class="close" onclick="closeModal('modal-registrar-atencion')">&times;</span>
        <h2>Registrar Atenci√≥n</h2>
        <div id="atencion-paciente-info"></div>
        <form id="form-registrar-atencion">
            <div class="form-group">
                <label for="atencion-descripcion">Descripci√≥n de la atenci√≥n *</label>
                <textarea id="atencion-descripcion" class="form-textarea" required></textarea>
            </div>
            <div class="form-group">
                <label for="atencion-tipo">Tipo de atenci√≥n *</label>
                <select id="atencion-tipo" class="form-select" required>
                    <option value="">Selecciona tipo...</option>
                    <option value="consulta">Consulta</option>
                    <option value="seguimiento">Seguimiento</option>
                    <option value="orientacion">Orientaci√≥n</option>
                    <option value="intervencion">Intervenci√≥n</option>
                </select>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn btn-success">Guardar atenci√≥n</button>
            </div>
            <input type="hidden" id="atencion-cita-id">
            <input type="hidden" id="atencion-paciente-id">
        </form>
    </div>
</div>

<!-- ========== MODAL: AGENDAR CITA (DESDE SOLICITUD) ========== -->
<div class="modal-overlay" id="modal-agendar-cita-profesional" style="display:none;">
    <div class="modal-content large-modal">
        <button class="close" onclick="closeModal('modal-agendar-cita-profesional')">
            <i class="fas fa-times"></i>
        </button>
        <h2 class="modal-title-main"><i class="fas fa-calendar-plus"></i> Agendar Cita</h2>
        <form id="form-agendar-cita-profesional" class="cita-form">
            <!-- Datos del paciente -->
            <div class="form-group">
                <label class="form-label">Nombre completo del paciente:</label>
                <span id="modal-cita-nombre-prof"></span>
            </div>
            <div class="form-group">
                <label class="form-label">RUT:</label>
                <span id="modal-cita-rut-prof"></span>
            </div>

            <!-- Campos de la cita -->
            <div class="form-group">
                <label class="form-label" for="modal-cita-profession-prof">Profesi√≥n *</label>
                <select class="form-select" id="modal-cita-profession-prof" required>
                    <option value="">Seleccionar profesi√≥n...</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label" for="modal-cita-profesional-prof">Profesional *</label>
                <select class="form-select" id="modal-cita-profesional-prof" required>
                    <option value="">Selecciona profesional...</option>
                </select>
                <input type="hidden" id="modal-cita-profesional-nombre-prof">
            </div>
            <div class="form-group">
                <label class="form-label" for="modal-cita-fecha-prof">Fecha *</label>
                <input type="date" class="form-input" id="modal-cita-fecha-prof" required>
            </div>
            <div class="form-group">
                <label class="form-label" for="modal-cita-hora-prof">Hora *</label>
                <select class="form-select" id="modal-cita-hora-prof" required>
                    <option value="">Selecciona hora...</option>
                </select>
            </div>

            <!-- Acciones -->
            <div class="form-actions form-actions-row">
                <button type="button" class="btn btn-outline" onclick="closeModal('modal-agendar-cita-profesional')">
                    Cancelar
                </button>
                <button type="submit" class="btn btn-primary">Agendar</button>
            </div>
            <input type="hidden" id="modal-cita-id-prof">
        </form>
    </div>
</div>

<!-- ========== MODAL: NUEVA CITA PACIENTE ========== -->
<div class="modal-overlay" id="modal-nueva-cita-paciente" style="display:none;">
    <div class="modal large-modal">
        <button class="modal-close" onclick="closeModal('modal-nueva-cita-paciente')">
            <i class="fas fa-times"></i>
        </button>
        <h2 class="modal-title-main"><i class="fas fa-calendar-plus"></i> Nueva Cita Paciente</h2>
        <form id="form-nueva-cita-paciente" class="cita-form">
            <div class="form-group">
                <label class="form-label" for="pac-cita-paciente-nombre">Nombre del paciente *</label>
                <input type="text" class="form-input" id="pac-cita-paciente-nombre" required autocomplete="off">
            </div>
            <div class="form-group">
                <label class="form-label" for="pac-cita-paciente-rut">RUT del paciente *</label>
                <input type="text" class="form-input" id="pac-cita-paciente-rut" required autocomplete="off">
            </div>
            <div class="form-group">
                <label class="form-label" for="pac-cita-profession">Profesi√≥n *</label>
                <select class="form-select" id="pac-cita-profession" required>
                    <option value="">Seleccionar profesi√≥n...</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label" for="pac-cita-profesional">Profesional *</label>
                <select class="form-select" id="pac-cita-profesional" required>
                    <option value="">Selecciona profesional...</option>
                </select>
                <input type="hidden" id="pac-cita-profesional-nombre">
            </div>
            <div class="form-group">
                <label class="form-label" for="pac-cita-fecha">Fecha *</label>
                <input type="date" class="form-input" id="pac-cita-fecha" required>
            </div>
            <div class="form-group">
                <label class="form-label" for="pac-cita-hora">Hora *</label>
                <select class="form-select" id="pac-cita-hora" required>
                    <option value="">Selecciona hora...</option>
                </select>
            </div>
            <div class="form-actions form-actions-row">
                <button type="button" class="btn btn-outline" onclick="closeModal('modal-nueva-cita-paciente')">
                    Cancelar
                </button>
                <button type="submit" class="btn btn-primary">Agendar</button>
            </div>
        </form>
    </div>
</div>

<!-- ========== MODAL: NUEVA CITA ENTRE PROFESIONALES ========== -->
<div class="modal-overlay" id="modal-nueva-cita-profesional" style="display:none;">
    <div class="modal-content large-modal">
        <button class="close" onclick="closeModal('modal-nueva-cita-profesional')">
            <i class="fas fa-times"></i>
        </button>
        <h2 class="modal-title-main"><i class="fas fa-calendar-plus"></i> Nueva Cita entre Profesionales</h2>
        <form id="form-nueva-cita-profesional" class="cita-form">
            <div class="form-group">
                <label class="form-label" for="prof-cita-profession">Profesi√≥n *</label>
                <select class="form-select" id="prof-cita-profession" required>
                    <option value="">Seleccionar profesi√≥n...</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label" for="prof-cita-profesional">Profesional *</label>
                <select class="form-select" id="prof-cita-profesional" required>
                    <option value="">Selecciona profesional...</option>
                </select>
                <input type="hidden" id="prof-cita-profesional-nombre">
            </div>
            <div class="form-group">
                <label class="form-label" for="prof-cita-fecha">Fecha *</label>
                <input type="date" class="form-input" id="prof-cita-fecha" required>
            </div>
            <div class="form-group">
                <label class="form-label" for="prof-cita-hora">Hora *</label>
                <select class="form-select" id="prof-cita-hora" required>
                    <option value="">Selecciona hora...</option>
                </select>
            </div>
            <div class="form-actions form-actions-row">
                <button type="button" class="btn btn-outline" onclick="closeModal('modal-nueva-cita-profesional')">
                    Cancelar
                </button>
                <button type="submit" class="btn btn-primary">Agendar</button>
            </div>
        </form>
    </div>
</div>
 
<!-- =============================================== -->
<!-- 6. PIE DE P√ÅGINA -->
<!-- =============================================== -->
<footer class="footer">
    <div class="footer-content">
        <p>&copy; 2024 SENDA Puente Alto. Todos los derechos reservados.</p>
        <p>Desarrollado para el bienestar de nuestra comunidad</p>
        <a href="https://www.senda.gob.cl" target="_blank" class="footer-link">
            <i class="fas fa-external-link-alt"></i> Sitio oficial SENDA
        </a>
    </div>  
</footer>

<!-- =============================================== -->
<!-- 7. SCRIPTS JAVASCRIPT -->
<!-- =============================================== -->

<!-- ========== SCRIPT: MODAL SOBRE EL PROGRAMA ========== -->
<script>
document.addEventListener("DOMContentLoaded", function() {
    var btnSobre = document.getElementById("about-program");
    if (btnSobre) {
        btnSobre.addEventListener("click", function() {
            if(typeof showModal === 'function'){
                showModal('about-modal');
            } else {
                document.getElementById('about-modal').style.display = 'flex';
            }
        });
    }
});
</script>

<!-- ========== SCRIPT: CAMBIO DE PESTA√ëAS EN LOGIN ========== -->
<script>
function switchLoginTab(tab){
    const loginTab = document.querySelector('.modal-tab[onclick*="login"]');
    const registerTab = document.querySelector('.modal-tab[onclick*="register"]');
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');
    
    if(tab === 'login'){
        loginTab.classList.add('active');
        registerTab.classList.remove('active');
        loginForm.classList.add('active');
        registerForm.classList.remove('active');
    } else {
        registerTab.classList.add('active');
        loginTab.classList.remove('active');
        registerForm.classList.add('active');
        loginForm.classList.remove('active');
    }
}
</script>

</body>
</html>
